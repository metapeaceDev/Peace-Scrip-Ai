# ‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î InstantID ControlNet ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

## ‚ö†Ô∏è ‡∏õ‡∏±‡∏ç‡∏´‡∏≤

PowerShell ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏ú‡∏¥‡∏î‡∏ã‡πâ‡∏≥‡πÜ:

- ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 1: 495 MB (‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢)
- ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 2: 1778 MB (‡∏ú‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå)
- ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 3: 705 MB (‡∏Ç‡∏ô‡∏≤‡∏î‡∏ú‡∏¥‡∏î)
- ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 4: 992 MB (‡∏Ç‡∏ô‡∏≤‡∏î‡∏ú‡∏¥‡∏î‡∏≠‡∏µ‡∏Å)

**‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:** 491.26 MB (515,143,658 bytes)

---

## üåê ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!)

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:

**1. ‡πÄ‡∏õ‡∏¥‡∏î‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå:**

```
https://huggingface.co/InstantX/InstantID/blob/main/ControlNetModel/diffusion_pytorch_model.safetensors
```

**2. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "‚Üì download" ‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤‡∏ö‡∏ô**

**3. ‡∏£‡∏≠‡πÉ‡∏´‡πâ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à (~492 MB)**

- ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 5-10 ‡∏ô‡∏≤‡∏ó‡∏µ
- ‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Downloads ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

**4. ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠:**

‡πÄ‡∏õ‡∏¥‡∏î PowerShell ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á:

```powershell
# ‡∏´‡∏≤‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏°‡∏≤
$downloadedFile = Get-ChildItem "$env:USERPROFILE\Downloads\diffusion_pytorch_model.safetensors" -ErrorAction SilentlyContinue

if ($downloadedFile) {
    Write-Host "‚úÖ ‡∏û‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î: $([math]::Round($downloadedFile.Length / 1MB, 2)) MB" -ForegroundColor Green

    # ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå
    if ($downloadedFile.Length -gt 490MB -and $downloadedFile.Length -lt 520MB) {
        Write-Host "‚úÖ ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!" -ForegroundColor Green

        # ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ
        $targetDir = "C:\ComfyUI\ComfyUI_windows_portable\ComfyUI\models\controlnet"
        New-Item -ItemType Directory -Path $targetDir -Force | Out-Null

        # ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠
        $targetPath = "$targetDir\instantid_controlnet.safetensors"
        Copy-Item $downloadedFile.FullName -Destination $targetPath -Force

        Write-Host ""
        Write-Host "üéâ ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡πÑ‡∏ü‡∏•‡πå‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏õ‡∏¢‡∏±‡∏á:" -ForegroundColor Green
        Write-Host "   $targetPath" -ForegroundColor Cyan
        Write-Host ""

        # ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
        $copiedFile = Get-Item $targetPath
        Write-Host "‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢: $([math]::Round($copiedFile.Length / 1MB, 2)) MB" -ForegroundColor Green
        Write-Host ""
        Write-Host "‚úÖ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô! ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ:" -ForegroundColor Yellow
        Write-Host "1. Restart backend service" -ForegroundColor White
        Write-Host "2. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Face ID" -ForegroundColor White
    } else {
        Write-Host "‚ùå ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á: $([math]::Round($downloadedFile.Length / 1MB, 2)) MB" -ForegroundColor Red
        Write-Host "   ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 490-520 MB" -ForegroundColor Yellow
    }
} else {
    Write-Host "‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Downloads" -ForegroundColor Red
    Write-Host "   ‡πÇ‡∏õ‡∏£‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß" -ForegroundColor Yellow
}
```

---

## üíª ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ curl (Built-in Windows)

```powershell
# Download with curl
curl -L `
  -o "C:\ComfyUI\ComfyUI_windows_portable\ComfyUI\models\controlnet\instantid_controlnet.safetensors" `
  "https://huggingface.co/InstantX/InstantID/resolve/main/ControlNetModel/diffusion_pytorch_model.safetensors"

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå
$file = Get-Item "C:\ComfyUI\ComfyUI_windows_portable\ComfyUI\models\controlnet\instantid_controlnet.safetensors"
Write-Host "‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à: $([math]::Round($file.Length / 1MB, 2)) MB"

if ($file.Length -gt 490MB -and $file.Length -lt 520MB) {
    Write-Host "‚úÖ ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!" -ForegroundColor Green
} else {
    Write-Host "‚ùå ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á ~492 MB)" -ForegroundColor Red
}
```

---

## üêô ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: Git LFS

```powershell
# 1. Install Git LFS (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ)
# Download from: https://git-lfs.com/

# 2. Clone repository
cd C:\temp
git lfs install
git clone https://huggingface.co/InstantX/InstantID

# 3. Copy file
Copy-Item `
  "C:\temp\InstantID\ControlNetModel\diffusion_pytorch_model.safetensors" `
  "C:\ComfyUI\ComfyUI_windows_portable\ComfyUI\models\controlnet\instantid_controlnet.safetensors"

# 4. Verify
$file = Get-Item "C:\ComfyUI\ComfyUI_windows_portable\ComfyUI\models\controlnet\instantid_controlnet.safetensors"
Write-Host "‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå: $([math]::Round($file.Length / 1MB, 2)) MB"
```

---

## ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î

```powershell
$file = Get-Item "C:\ComfyUI\ComfyUI_windows_portable\ComfyUI\models\controlnet\instantid_controlnet.safetensors"
$mb = [math]::Round($file.Length / 1MB, 2)
$bytes = $file.Length

Write-Host ""
Write-Host "========================================" -ForegroundColor Cyan
Write-Host "  FILE VERIFICATION" -ForegroundColor Cyan
Write-Host "========================================" -ForegroundColor Cyan
Write-Host ""
Write-Host "File: instantid_controlnet.safetensors" -ForegroundColor Yellow
Write-Host "Size: $mb MB" -ForegroundColor Cyan
Write-Host "Bytes: $bytes" -ForegroundColor Gray
Write-Host "Modified: $($file.LastWriteTime)" -ForegroundColor Gray
Write-Host ""

# Check exact size
if ($bytes -eq 515143658) {
    Write-Host "‚úÖ PERFECT MATCH!" -ForegroundColor Green
    Write-Host "   File size exactly matches expected: 515,143,658 bytes" -ForegroundColor Green
} elseif ($mb -gt 490 -and $mb -lt 520) {
    Write-Host "‚úÖ SIZE ACCEPTABLE" -ForegroundColor Green
    Write-Host "   File size is within acceptable range (490-520 MB)" -ForegroundColor Green
} else {
    Write-Host "‚ùå SIZE VALIDATION FAILED" -ForegroundColor Red
    Write-Host "   Expected: ~491.26 MB (515,143,658 bytes)" -ForegroundColor Yellow
    Write-Host "   Got: $mb MB ($bytes bytes)" -ForegroundColor Yellow
    Write-Host ""
    Write-Host "   ‚ö†Ô∏è This file may not work correctly!" -ForegroundColor Red
}

Write-Host ""
Write-Host "========================================" -ForegroundColor Cyan
```

---

## üîÑ ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à

### 1. Restart Backend Service

```powershell
# Stop backend
Stop-Process -Name node -Force -ErrorAction SilentlyContinue

# Wait a moment
Start-Sleep -Seconds 2

# Start backend
cd C:\Users\USER\Desktop\peace-script-basic-v1\peace-script-basic-v1\comfyui-service
npm run dev
```

### 2. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö

```powershell
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö backend health
Invoke-RestMethod -Uri "http://localhost:8000/health"

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö ComfyUI
Invoke-RestMethod -Uri "http://localhost:8188/"
```

### 3. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Face ID Generation

1. ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå
2. ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î "Face ID"
4. ‡∏Ñ‡∏•‡∏¥‡∏Å "Generate Costume"
5. ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤ (‡∏Ñ‡∏ß‡∏£‡πÄ‡∏Å‡∏¥‡∏ô 22.6% ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à)

---

## üìä ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô

```
‚úÖ SDXL Checkpoint:      6,616.67 MB (6.46 GB)
‚úÖ InsightFace Models:     407.74 MB (5 files)
‚úÖ IP-Adapter:           1,612.79 MB (1.6 GB)
‚ùå ControlNet:             MISSING (need to download)
---------------------------------------------------
Total when complete:     ~9,129 MB (~9 GB)
```

---

## üìù ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

**‡∏ó‡∏≥‡πÑ‡∏° PowerShell ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß:**

- HuggingFace ‡πÉ‡∏ä‡πâ Git LFS ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà
- `Invoke-WebRequest` ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ LFS redirects ‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- Browser download ‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î

**‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:**
‚úÖ ‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1 (Browser download) - ‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡πÑ‡∏î‡πâ  
‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏´‡∏•‡∏±‡∏á‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î  
‚úÖ ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß ‡∏•‡∏≠‡∏á Git LFS (‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3)

---

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠:** 3 ‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2026 09:35 ‡∏ô.  
**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** ‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á  
**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:** Browser Download (‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1)
