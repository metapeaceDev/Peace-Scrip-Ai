# üìä Psychology Evolution Tracking System

## üéØ Overview

‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏≤‡∏á‡∏à‡∏¥‡∏ï‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡πÇ‡∏î‡∏¢‡∏≠‡∏¥‡∏á‡∏ï‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏ò‡∏£‡∏£‡∏°‡∏û‡∏∏‡∏ó‡∏ò ‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏≤‡∏¢-‡∏ß‡∏≤‡∏à‡∏≤-‡πÉ‡∏à ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏â‡∏≤‡∏Å ‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡πà‡∏≤ consciousness/defilement ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

## ‚ú® Features

### 1. **‡∏Å‡∏≤‡∏¢-‡∏ß‡∏≤‡∏à‡∏≤-‡πÉ‡∏à Analysis (Body-Speech-Mind)**

- **‡∏Å‡∏≤‡∏¢**: ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å scene descriptions
- **‡∏ß‡∏≤‡∏à‡∏≤**: ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏û‡∏π‡∏î‡∏à‡∏≤‡∏Å dialogue
- **‡πÉ‡∏à**: ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏†‡∏≤‡∏û‡∏à‡∏¥‡∏ï‡πÉ‡∏à‡∏à‡∏≤‡∏Å character thoughts

### 2. **Buddhist Karma Classification**

- **‡∏Å‡∏∏‡∏®‡∏•‡∏Å‡∏£‡∏£‡∏°** (Wholesome): ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ó‡∏µ‡πà‡∏î‡∏µ ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° consciousness, ‡∏•‡∏î defilement
- **‡∏≠‡∏Å‡∏∏‡∏®‡∏•‡∏Å‡∏£‡∏£‡∏°** (Unwholesome): ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏î‡∏µ ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° defilement, ‡∏•‡∏î consciousness
- **‡πÄ‡∏â‡∏¢‡πÜ** (Neutral): ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏≤‡∏á ‚Üí ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏•‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏°‡∏≤‡∏Å

### 3. **Automatic Psychology Updates**

- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡πà‡∏≤ consciousness ‡πÅ‡∏•‡∏∞ defilement ‡∏´‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏â‡∏≤‡∏Å
- ‡∏™‡∏£‡πâ‡∏≤‡∏á timeline ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á
- ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Mental Balance (-100 ‡∏ñ‡∏∂‡∏á +100)

### 4. **Character Arc Validation**

- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏£‡∏£‡∏°
- ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
- ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏ï‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏ò‡∏£‡∏£‡∏°

### 5. **Visual Timeline Component**

- ‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏™‡∏î‡∏á Mental Balance ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á
- ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏â‡∏≤‡∏Å
- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏¢-‡∏ß‡∏≤‡∏à‡∏≤-‡πÉ‡∏à ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞ scene

## üìÅ File Structure

```
src/
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ psychologyCalculator.ts      # ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì profile ‡πÅ‡∏•‡∏∞ reaction (‡πÄ‡∏î‡∏¥‡∏°)
‚îÇ   ‚îú‚îÄ‚îÄ psychologyEvolution.ts       # üÜï ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á
‚îÇ   ‚îî‚îÄ‚îÄ psychologyIntegration.ts     # üÜï Integration ‡∏Å‡∏±‡∏ö scene generation
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ PsychologyTestPanel.tsx      # ‡∏ó‡∏î‡∏™‡∏≠‡∏ö reaction ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ (‡πÄ‡∏î‡∏¥‡∏°)
‚îÇ   ‚îî‚îÄ‚îÄ PsychologyTimeline.tsx       # üÜï ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏£‡∏≤‡∏ü‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á
‚îî‚îÄ‚îÄ types.ts                          # üÜï ‡πÄ‡∏û‡∏¥‡πà‡∏° interfaces ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö timeline
```

## üîß Core Functions

### `psychologyEvolution.ts`

#### `analyzeSceneActions()`

```typescript
// ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏≤‡∏¢-‡∏ß‡∏≤‡∏à‡∏≤-‡πÉ‡∏à ‡πÉ‡∏ô‡∏â‡∏≤‡∏Å
const actions = analyzeSceneActions(scene, characterName);
// Returns: { ‡∏Å‡∏≤‡∏¢: string[], ‡∏ß‡∏≤‡∏à‡∏≤: string[], ‡πÉ‡∏à: string[] }
```

#### `calculatePsychologyChanges()`

```typescript
// ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á consciousness/defilement
const change = calculatePsychologyChanges(character, scene, plotPoint);
// Returns: PsychologyChange with reasoning based on Buddhist principles
```

#### `applyPsychologyChanges()`

```typescript
// ‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ (immutable)
const updatedCharacter = applyPsychologyChanges(character, change);
```

#### `updatePsychologyTimeline()`

```typescript
// ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï timeline ‡∏´‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏â‡∏≤‡∏Å
const { timeline, updatedCharacter } = updatePsychologyTimeline(
  timeline,
  character,
  scene,
  plotPoint
);
```

#### `validateCharacterArc()`

```typescript
// ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ arc ‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏´‡∏•‡∏±‡∏Å‡∏ò‡∏£‡∏£‡∏°
const validation = validateCharacterArc(timeline);
// Returns: { valid, warnings, recommendations }
```

### `psychologyIntegration.ts`

#### `initializeProjectPsychology()`

```typescript
// ‡∏™‡∏£‡πâ‡∏≤‡∏á timeline ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£
const scriptDataWithTimelines = initializeProjectPsychology(scriptData);
```

#### `updatePsychologyAfterScene()`

```typescript
// ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï psychology ‡∏´‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏â‡∏≤‡∏Å (‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
const updatedScriptData = updatePsychologyAfterScene(scriptData, scene, plotPoint);
```

#### `validateProjectPsychology()`

```typescript
// ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö arc ‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÉ‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£
const validation = validateProjectPsychology(scriptData);
```

## üìä Data Structure

### `PsychologyChange`

```typescript
{
  sceneNumber: number;
  plotPoint: string;
  actions: {
    ‡∏Å‡∏≤‡∏¢: string[];   // Physical actions
    ‡∏ß‡∏≤‡∏à‡∏≤: string[];  // Speech patterns
    ‡πÉ‡∏à: string[];    // Mental states
  };
  consciousnessChanges: Record<string, number>;  // virtue ‚Üí delta
  defilementChanges: Record<string, number>;     // defilement ‚Üí delta
  reasoning: string;  // Buddhist interpretation
  karmaType: '‡∏Å‡∏∏‡∏®‡∏•‡∏Å‡∏£‡∏£‡∏°' | '‡∏≠‡∏Å‡∏∏‡∏®‡∏•‡∏Å‡∏£‡∏£‡∏°' | '‡πÄ‡∏â‡∏¢‡πÜ';
}
```

### `PsychologySnapshot`

```typescript
{
  sceneNumber: number;
  plotPoint: string;
  consciousness: Record<string, number>; // Current values
  defilement: Record<string, number>; // Current values
  mentalBalance: number; // -100 to +100
  dominantEmotion: 'peaceful' | 'joyful' | 'angry' | 'confused' | 'fearful' | 'neutral';
}
```

### `CharacterPsychologyTimeline`

```typescript
{
  characterId: string;
  characterName: string;
  snapshots: PsychologySnapshot[];  // State at each scene
  changes: PsychologyChange[];      // What changed and why
  overallArc: {
    startingBalance: number;
    endingBalance: number;
    totalChange: number;
    direction: '‡∏Å‡∏∏‡∏®‡∏•‡∏Ç‡∏∂‡πâ‡∏ô' | '‡∏Å‡∏∏‡∏®‡∏•‡∏•‡∏á' | '‡∏Ñ‡∏á‡∏ó‡∏µ‡πà';
    interpretation: string;  // Buddhist interpretation
  };
}
```

## üéØ Integration Workflow

### 1. Initialize (‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£)

```typescript
import { initializeProjectPsychology } from './services/psychologyIntegration';

// ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
scriptData = initializeProjectPsychology(scriptData);
```

### 2. Auto-Update (‡∏´‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏â‡∏≤‡∏Å)

```typescript
import { updatePsychologyAfterScene } from './services/psychologyIntegration';

// ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏á generateScene()
const scene = await generateScene(...);
scriptData = updatePsychologyAfterScene(scriptData, scene, plotPoint);
```

### 3. Validation (‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏â‡∏≤‡∏Å)

```typescript
import { validateProjectPsychology } from './services/psychologyIntegration';

const validation = validateProjectPsychology(scriptData);
console.log(validation.overallSummary);

Object.values(validation.characterResults).forEach(result => {
  console.log(`${result.characterName}:`, result.warnings);
});
```

### 4. Display Timeline

```typescript
import { PsychologyTimeline } from './components/PsychologyTimeline';

const timeline = scriptData.psychologyTimelines[character.id];

<PsychologyTimeline
  timeline={timeline}
  onClose={() => setShowTimeline(false)}
/>
```

## üîç Buddhist Principles Validation

### ‡∏Å‡∏∏‡∏®‡∏•‡∏Å‡∏£‡∏£‡∏° ‚Üí ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç (Wholesome ‚Üí Happiness)

- ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏Å‡∏∏‡∏®‡∏•‡∏Å‡∏£‡∏£‡∏°‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ ‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ Mental Balance ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô
- Consciousness values ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô (Mindfulness, Wisdom, Compassion)
- Defilement values ‡∏•‡∏î‡∏•‡∏á (Anger, Greed, Delusion)

### ‡∏≠‡∏Å‡∏∏‡∏®‡∏•‡∏Å‡∏£‡∏£‡∏° ‚Üí ‡∏ó‡∏∏‡∏Å‡∏Ç‡πå (Unwholesome ‚Üí Suffering)

- ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏≠‡∏Å‡∏∏‡∏®‡∏•‡∏Å‡∏£‡∏£‡∏°‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ ‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ Mental Balance ‡∏•‡∏î‡∏•‡∏á
- Defilement values ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô
- Consciousness values ‡∏•‡∏î‡∏•‡∏á

### ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≠‡∏¢‡πÑ‡∏õ

- Mental Balance ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô ¬±20 ‡πÉ‡∏ô‡∏â‡∏≤‡∏Å‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
- ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏°‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏°‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏°‡∏ú‡∏•
- ‡∏°‡∏µ‡∏à‡∏∏‡∏î‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç (turning points) ‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô

## üìà Example Output

### Character Arc Interpretation

```
**‡∏û‡∏£‡∏∞‡∏≠‡∏£‡∏∏‡∏ì**: ‡∏Å‡∏∏‡∏®‡∏•‡∏Ç‡∏∂‡πâ‡∏ô (+25.3 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏ï‡∏¥‡∏õ‡∏±‡∏ç‡∏ç‡∏≤ ‡∏•‡∏î‡∏Å‡∏¥‡πÄ‡∏•‡∏™

‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á: ‡∏Å‡∏∏‡∏®‡∏•‡∏Å‡∏£‡∏£‡∏° 8 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á, ‡∏≠‡∏Å‡∏∏‡∏®‡∏•‡∏Å‡∏£‡∏£‡∏° 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á

‡∏ï‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏ò‡∏£‡∏£‡∏°: ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ô‡∏µ‡πâ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏à‡∏¥‡∏ï‡πÉ‡∏à
‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡∏™‡∏±‡∏°‡∏°‡∏≤‡∏Å‡∏±‡∏°‡∏°‡∏±‡∏ô‡∏ï‡∏∞) ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡∏™‡∏ï‡∏¥‡∏õ‡∏±‡∏ç‡∏ç‡∏≤
```

### Scene Analysis

```
Scene 5: Rising Action
Karma Type: ‡∏Å‡∏∏‡∏®‡∏•‡∏Å‡∏£‡∏£‡∏° ‚ú®

‡∏Å‡∏≤‡∏¢ (Physical):
‚Ä¢ ‡∏û‡∏£‡∏∞‡∏≠‡∏£‡∏∏‡∏ì‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏ô‡∏õ‡πà‡∏ß‡∏¢ ‡∏î‡∏π‡πÅ‡∏•‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏≠‡∏≤‡πÉ‡∏à‡πÉ‡∏™‡πà

‡∏ß‡∏≤‡∏à‡∏≤ (Speech):
‚Ä¢ "‡∏ú‡∏°‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏´‡πâ‡∏´‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥"
‚Ä¢ "‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏£ ‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ ‡∏ó‡∏≥‡πÑ‡∏õ"

‡πÉ‡∏à (Mental):
‚Ä¢ üí≠ ‡∏ú‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô

Psychology Reasoning:
‡∏Å‡∏∏‡∏®‡∏•‡∏Å‡∏£‡∏£‡∏°: ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏¢-‡∏ß‡∏≤‡∏à‡∏≤-‡πÉ‡∏à‡∏ó‡∏µ‡πà‡∏î‡∏µ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏ï‡∏¥‡∏õ‡∏±‡∏ç‡∏ç‡∏≤ ‡∏•‡∏î‡∏Å‡∏¥‡πÄ‡∏•‡∏™

Consciousness Changes:
‚Ä¢ Karuna (Compassion): +2
‚Ä¢ Mindfulness: +2

Defilement Changes:
‚Ä¢ Lobha (Greed): -2
```

## üé® UI Components

### PsychologyTimeline

- ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏£‡∏≤‡∏ü Mental Balance ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á
- ‡∏Ñ‡∏•‡∏¥‡∏Å data point ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏â‡∏≤‡∏Å
- ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏≤‡∏¢-‡∏ß‡∏≤‡∏à‡∏≤-‡πÉ‡∏à ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏â‡∏≤‡∏Å
- ‡πÅ‡∏™‡∏î‡∏á Overall Arc Summary

### Integration Points

```typescript
// ‡πÉ‡∏ô Step5Output.tsx ‡∏´‡∏£‡∏∑‡∏≠ Studio.tsx
const [showTimeline, setShowTimeline] = useState(false);
const [selectedCharacter, setSelectedCharacter] = useState<Character | null>(null);

// ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î Timeline
<button onClick={() => {
  setSelectedCharacter(character);
  setShowTimeline(true);
}}>
  üìà ‡∏î‡∏π Psychology Timeline
</button>

// Modal
{showTimeline && selectedCharacter && (
  <PsychologyTimeline
    timeline={scriptData.psychologyTimelines[selectedCharacter.id]}
    onClose={() => setShowTimeline(false)}
  />
)}
```

## ‚ö° Performance Considerations

- **Immutable Updates**: ‡πÉ‡∏ä‡πâ spread operator ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏¥‡∏°
- **Lazy Initialization**: ‡∏™‡∏£‡πâ‡∏≤‡∏á timeline ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
- **Memoization**: Component ‡∏Ñ‡∏ß‡∏£ memoize calculated values
- **Data Size**: Timeline ‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏â‡∏≤‡∏Å (~1KB per scene)

## üîÆ Future Enhancements

1. **AI-Driven Suggestions**
   - AI ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç arc ‡πÉ‡∏´‡πâ‡∏™‡∏°‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏∂‡πâ‡∏ô
   - Suggest scenes to improve character development

2. **Comparative Analysis**
   - ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö arc ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏´‡∏•‡∏≤‡∏¢‡∏ï‡∏±‡∏ß
   - ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£

3. **Export Timeline**
   - Export ‡πÄ‡∏õ‡πá‡∏ô PDF/Image
   - Include in production package

4. **Real-time Prediction**
   - ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏Ç‡∏≠‡∏á‡∏â‡∏≤‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á
   - ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ karma type ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°

## üìö Buddhist References

‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏≠‡∏¥‡∏á‡∏ï‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏ò‡∏£‡∏£‡∏°‡∏û‡∏∏‡∏ó‡∏ò:

1. **‡πÑ‡∏ï‡∏£‡∏™‡∏¥‡∏Ç‡∏Ç‡∏≤** (Three Trainings):
   - ‡∏®‡∏µ‡∏• (Morality) ‚Üí ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
   - ‡∏™‡∏°‡∏≤‡∏ò‡∏¥ (Concentration) ‚Üí ‡∏™‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏á‡∏ö
   - ‡∏õ‡∏±‡∏ç‡∏ç‡∏≤ (Wisdom) ‚Üí ‡∏Å‡∏≤‡∏£‡∏£‡∏π‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏ó‡∏±‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á

2. **‡∏Å‡∏£‡∏£‡∏°** (Karma):
   - ‡∏Å‡∏∏‡∏®‡∏•‡∏Å‡∏£‡∏£‡∏° ‚Üí ‡∏ú‡∏•‡∏î‡∏µ
   - ‡∏≠‡∏Å‡∏∏‡∏®‡∏•‡∏Å‡∏£‡∏£‡∏° ‚Üí ‡∏ú‡∏•‡πÄ‡∏™‡∏µ‡∏¢
   - ‡∏≠‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏§‡∏ï‡∏Å‡∏£‡∏£‡∏° ‚Üí ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏≤‡∏á

3. **‡∏Å‡∏¥‡πÄ‡∏•‡∏™** (Defilements):
   - ‡πÇ‡∏•‡∏†‡∏∞ (Lobha - Greed)
   - ‡πÇ‡∏ó‡∏™‡∏∞ (Dosa - Anger)
   - ‡πÇ‡∏°‡∏´‡∏∞ (Moha - Delusion)

4. **‡∏ó‡∏≤‡∏á‡∏™‡∏≤‡∏¢‡∏Å‡∏•‡∏≤‡∏á** (Middle Path):
   - ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Ñ‡∏ß‡∏£‡∏™‡∏°‡∏î‡∏∏‡∏• ‡πÑ‡∏°‡πà‡∏™‡∏∏‡∏î‡πÇ‡∏ï‡πà‡∏á
   - ‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≠‡∏¢‡πÑ‡∏õ ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á

---

**Last Updated**: 5 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° 2568
**Version**: 1.0.0
**Status**: ‚úÖ Implemented and Ready for Testing
