# üìÇ ‡πÅ‡∏ú‡∏ô‡∏à‡∏±‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÑ‡∏ü‡∏•‡πå Peace Script Project

**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà**: 14 ‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2026

---

## üö® CRITICAL: ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏ö‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (‡∏°‡∏µ Secrets!)

### ‚ùå ‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏ö‡∏à‡∏≤‡∏Å Git History
```bash
# service-account-key.json ‡∏°‡∏µ Firebase private keys!
service-account-key.json
```

**‚ö†Ô∏è WARNING**: ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡∏°‡∏µ:
- Firebase Admin SDK private key
- Database credentials
- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏î‡πâ

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
1. ‚úÖ ‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô .gitignore ‡πÅ‡∏•‡πâ‡∏ß
2. ‚ùå ‡πÅ‡∏ï‡πà‡∏°‡∏±‡∏ô‡∏≠‡∏≤‡∏à‡∏ñ‡∏π‡∏Å commit ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ô history
3. üîí ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å git history

---

## üìã ‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡πÅ‡∏ô‡∏Å‡πÑ‡∏ü‡∏•‡πå

### 1Ô∏è‚É£ ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà **‡∏ï‡πâ‡∏≠‡∏á COMMIT** (Version Control)

#### Source Code
```
‚úÖ src/**/*.{ts,tsx}              - TypeScript source files
‚úÖ src/**/*.{css,scss}            - Stylesheets
‚úÖ comfyui-service/src/**/*.js    - Backend Node.js
‚úÖ comfyui-service/tests/**/*.js  - Backend tests
‚úÖ src/test/**/*.test.tsx         - Frontend tests
```

#### Configuration Files
```
‚úÖ package.json                   - Dependencies
‚úÖ package-lock.json              - Exact versions (important!)
‚úÖ tsconfig.json                  - TypeScript config
‚úÖ tsconfig.node.json
‚úÖ vite.config.ts                 - Build config
‚úÖ vitest.config.ts               - Test config
‚úÖ .eslintrc.json                 - Linting rules
‚úÖ .prettierrc.json               - Code formatting
‚úÖ firebase.json                  - Firebase config (NO SECRETS)
‚úÖ firestore.rules                - Security rules
‚úÖ firestore.indexes.json         - Database indexes
‚úÖ storage.rules                  - Storage security
‚úÖ netlify.toml                   - Deploy config
```

#### Documentation (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç)
```
‚úÖ README.md                      - Project overview
‚úÖ CHANGELOG.md                   - Version history
‚úÖ docs/                          - Organized documentation
‚úÖ CONTRIBUTING.md                - Contribution guide (if exists)
```

#### Infrastructure
```
‚úÖ .github/                       - GitHub Actions
‚úÖ .vscode/extensions.json        - Recommended extensions
‚úÖ runpod-comfyui.Dockerfile      - Docker config
```

---

### 2Ô∏è‚É£ ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà **‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£ COMMIT** (‡πÅ‡∏ï‡πà‡πÄ‡∏Å‡πá‡∏ö Local)

#### Temporary Documentation (‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ docs-archive/)
```
üì¶ CETASIKA_52_ANALYSIS.md           ‚Üí docs/features/
üì¶ MOTION_EDITOR_IMPROVEMENT_PLAN.md ‚Üí docs/features/
üì¶ COMPARISON_TWO_PROJECTS.md        ‚Üí docs/analysis/
üì¶ PROJECT_ORGANIZATION_2025.md      ‚Üí docs/reports/
```

#### Scripts (‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô scripts/)
```
üì¶ organize-project.ps1              ‚Üí scripts/maintenance/
üì¶ restart-services.cmd              ‚Üí scripts/dev/
üì¶ verify-setup.bat                  ‚Üí scripts/setup/
```

#### Development Files
```
üö´ .env                              - Environment variables (SECRETS!)
üö´ .env.local                        - Local overrides
üö´ .env.backup                       - Backup (may have secrets)
üö´ service-account-key.json          - Firebase credentials
üö´ *.key, *.pem                      - Private keys
```

---

### 3Ô∏è‚É£ ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà **‡∏Ñ‡∏ß‡∏£ IGNORE** (‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô .gitignore)

#### ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô .gitignore:
```gitignore
# Temporary folders
tmp/
temp/
*.tmp

# Analysis reports (auto-generated)
CETASIKA_52_ANALYSIS.md
MOTION_EDITOR_IMPROVEMENT_PLAN.md
COMPARISON_TWO_PROJECTS.md
PROJECT_ORGANIZATION_2025.md

# Logs
*.log
logs/
vite-dev.log

# Build artifacts
dist/
dist-ssr/
.vite/

# Test coverage
coverage/

# OS files
.DS_Store
Thumbs.db

# IDE
.idea/
*.swp
*.swo

# Backend specific
backend/uploads/
backend/outputs/
comfyui-service/uploads/
```

---

### 4Ô∏è‚É£ ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£ **DEPLOY**

#### Frontend (Netlify/Vercel)
```
‚úÖ dist/                          - Built frontend (auto-generated)
‚úÖ public/                         - Static assets
‚úÖ firebase.json                   - Firebase config
‚úÖ netlify.toml                    - Netlify config
```

#### Backend (Render/Railway/RunPod)
```
‚úÖ comfyui-service/               - Node.js backend
‚úÖ runpod-comfyui.Dockerfile      - Docker image
‚úÖ package.json                    - Dependencies
```

#### Environment Variables (‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏ô Platform)
```
üîê FIREBASE_API_KEY
üîê FIREBASE_PROJECT_ID
üîê COMFYUI_API_URL
üîê GEMINI_API_KEY
üîê ELEVENLABS_API_KEY
```

**‚ö†Ô∏è ‡∏≠‡∏¢‡πà‡∏≤ deploy ‡πÑ‡∏ü‡∏•‡πå .env ‡∏´‡∏£‡∏∑‡∏≠ service-account-key.json!**

---

## üéØ Action Plan

### Phase 1: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (URGENT!)
```powershell
# 1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ service-account-key.json ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô git history ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
git log --all --full-history -- "**/service-account-key.json"

# 2. ‡∏ñ‡πâ‡∏≤‡∏û‡∏ö ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å history
git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch service-account-key.json" \
  --prune-empty --tag-name-filter cat -- --all

# 3. Force push (‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô - ‡∏£‡∏∞‡∏ß‡∏±‡∏á!)
git push origin --force --all
```

### Phase 2: ‡∏à‡∏±‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£
```powershell
# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà
New-Item -ItemType Directory -Path docs/features -Force
New-Item -ItemType Directory -Path docs/analysis -Force
New-Item -ItemType Directory -Path docs/reports -Force
New-Item -ItemType Directory -Path scripts/maintenance -Force
New-Item -ItemType Directory -Path scripts/dev -Force

# ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå
Move-Item CETASIKA_52_ANALYSIS.md docs/features/
Move-Item MOTION_EDITOR_IMPROVEMENT_PLAN.md docs/features/
Move-Item COMPARISON_TWO_PROJECTS.md docs/analysis/
Move-Item PROJECT_ORGANIZATION_2025.md docs/reports/

Move-Item organize-project.ps1 scripts/maintenance/
Move-Item restart-services.cmd scripts/dev/
Move-Item verify-setup.bat scripts/setup/
```

### Phase 3: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï .gitignore
```powershell
# ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡πÉ‡∏ô .gitignore
@"
# Temporary folders
tmp/
temp/

# Analysis/Planning docs (keep in docs/ instead)
/CETASIKA_52_ANALYSIS.md
/MOTION_EDITOR_IMPROVEMENT_PLAN.md
/COMPARISON_TWO_PROJECTS.md
/PROJECT_ORGANIZATION_2025.md

# Development scripts (keep in scripts/ instead)
/organize-project.ps1
/restart-services.cmd
/verify-setup.bat
"@ | Add-Content .gitignore
```

### Phase 4: Commit Changes
```bash
# 1. Stage important changes
git add src/
git add comfyui-service/
git add package.json
git add tsconfig.json
git add .gitignore

# 2. Review before committing
git status
git diff --staged

# 3. Commit
git commit -m "feat: improve video versioning and motion editor

- Add videoAlbum support for multiple video versions per shot
- Enhance Motion Editor with version selection
- Fix motion strength defaults (80‚Üí128)
- Add Motion Presets UI (Subtle/Normal/Dynamic/Extreme)
- Improve debug endpoint for camera block inspection
- Update video generation workflow
- All 26 tests passing"

# 4. Push
git push origin main
```

---

## üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö

### ‚úÖ ‡∏Ñ‡∏ß‡∏£ Commit (Version Control)
- [ ] Source code (`src/`, `comfyui-service/src/`)
- [ ] Tests (`src/test/`, `comfyui-service/tests/`)
- [ ] Config files (`package.json`, `tsconfig.json`, etc.)
- [ ] Documentation (`docs/`, `README.md`, `CHANGELOG.md`)
- [ ] Infrastructure (`.github/`, Dockerfile)

### üì¶ ‡πÄ‡∏Å‡πá‡∏ö Local / Archive
- [ ] Analysis reports ‚Üí `docs/features/`, `docs/analysis/`
- [ ] Planning docs ‚Üí `docs/reports/`
- [ ] Scripts ‚Üí `scripts/`
- [ ] Old docs ‚Üí `docs-archive/`

### üö´ ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£ Commit (Ignore)
- [ ] `tmp/`, `temp/`
- [ ] `.env*` files
- [ ] `service-account-key.json` ‚ö†Ô∏è
- [ ] `node_modules/`, `dist/`
- [ ] Log files

### üöÄ Deploy ‡πÄ‡∏â‡∏û‡∏≤‡∏∞
- [ ] Frontend: `dist/` (built output)
- [ ] Backend: `comfyui-service/`
- [ ] Config: `firebase.json`, `netlify.toml`
- [ ] Environment variables (‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏ô platform)

---

## üîí Security Checklist

- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö `service-account-key.json` ‡πÉ‡∏ô git history
- [ ] ‡∏•‡∏ö secrets ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å history (‡∏ñ‡πâ‡∏≤‡∏û‡∏ö)
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö `.env` ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å commit
- [ ] Rotate Firebase credentials (‡∏ñ‡πâ‡∏≤ leak)
- [ ] ‡∏ï‡∏±‡πâ‡∏á environment variables ‡πÉ‡∏ô deployment platform
- [ ] ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï `.gitignore` ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°

---

## üé¨ Ready to Execute?

‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ:
1. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö security ‡∏Å‡πà‡∏≠‡∏ô** (service-account-key.json)?
2. **‡∏à‡∏±‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏•‡∏¢** (‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå, ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï .gitignore)?
3. **Commit changes** (stage and commit)?
4. **‡∏ó‡∏≥‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î** (automated script)?

‡∏ö‡∏≠‡∏Å‡∏°‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö! üöÄ
